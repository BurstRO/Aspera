// This file is automatically generated by qtc from "block.qtpl".
// See https://github.com/valyala/quicktemplate for details.

//line block.qtpl:1
package template

//line block.qtpl:1
import (
	"strings"

	"github.com/ac0v/aspera/pkg/api/p2p"
	"github.com/ac0v/aspera/pkg/encoding"

	proto "github.com/golang/protobuf/proto"
	"github.com/valyala/fastjson"
)

//line block.qtpl:10
import (
	qtio422016 "io"

	qt422016 "github.com/valyala/quicktemplate"
)

//line block.qtpl:10
var (
	_ = qtio422016.Copy
	_ = qt422016.AcquireByteBuffer
)

//line block.qtpl:10
func StreamUpgrade(qw422016 *qt422016.Writer, src *fastjson.Value) {
	//line block.qtpl:10
	qw422016.N().S(`
{
    "nextBlocks": [
        `)
	//line block.qtpl:14
	blocks := src.GetArray("nextBlocks")

	//line block.qtpl:15
	qw422016.N().S(`
        `)
	//line block.qtpl:16
	for blockId, block := range blocks {
		//line block.qtpl:16
		qw422016.N().S(`
            {
                "timestamp":           `)
		//line block.qtpl:18
		qw422016.N().D(block.GetInt("timestamp"))
		//line block.qtpl:18
		qw422016.N().S(`,
                "previousBlock":       `)
		//line block.qtpl:19
		qw422016.N().QZ(block.GetStringBytes("previousBlock"))
		//line block.qtpl:19
		qw422016.N().S(`,
                "blockATs":            `)
		//line block.qtpl:20
		qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(block.GetStringBytes("blockATs")))
		//line block.qtpl:20
		qw422016.N().S(`,
                "totalFee":            `)
		//line block.qtpl:21
		qw422016.N().D(block.GetInt("totalFeeNQT"))
		//line block.qtpl:21
		qw422016.N().S(`,
                "nonce":               `)
		//line block.qtpl:22
		qw422016.N().QZ(block.GetStringBytes("nonce"))
		//line block.qtpl:22
		qw422016.N().S(`,
                "version":             `)
		//line block.qtpl:23
		qw422016.N().D(block.GetInt("version"))
		//line block.qtpl:23
		qw422016.N().S(`,
                "blockSignature":      `)
		//line block.qtpl:24
		qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(block.GetStringBytes("blockSignature")))
		//line block.qtpl:24
		qw422016.N().S(`,
                "payloadHash":         `)
		//line block.qtpl:25
		qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(block.GetStringBytes("payloadHash")))
		//line block.qtpl:25
		qw422016.N().S(`,
                "generatorPublicKey":  `)
		//line block.qtpl:26
		qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(block.GetStringBytes("generatorPublicKey")))
		//line block.qtpl:26
		qw422016.N().S(`,
                "generationSignature": `)
		//line block.qtpl:27
		qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(block.GetStringBytes("generationSignature")))
		//line block.qtpl:27
		qw422016.N().S(`,
                "totalAmount":         `)
		//line block.qtpl:28
		qw422016.N().D(block.GetInt("totalAmountNQT"))
		//line block.qtpl:28
		qw422016.N().S(`,
                "payloadLength":       `)
		//line block.qtpl:29
		qw422016.N().D(block.GetInt("payloadLength"))
		//line block.qtpl:29
		qw422016.N().S(`,
                "previousBlockHash":   `)
		//line block.qtpl:30
		qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(block.GetStringBytes("previousBlockHash")))
		//line block.qtpl:30
		qw422016.N().S(`,
                "transactions": [
                    `)
		//line block.qtpl:33
		transactions := block.GetArray("transactions")

		//line block.qtpl:34
		qw422016.N().S(`
                    `)
		//line block.qtpl:35
		for txId, tx := range transactions {
			//line block.qtpl:35
			qw422016.N().S(`
                        `)
			//line block.qtpl:37
			surtype := tx.GetInt("type")
			subtype := tx.GetInt("subtype")
			attachment := tx.Get("attachment")

			//line block.qtpl:40
			qw422016.N().S(`
                        {
                            `)
			//line block.qtpl:42
			switch surtype {
			//line block.qtpl:43
			case 0:
				//line block.qtpl:43
				qw422016.N().S(`
                                `)
				//line block.qtpl:44
				switch subtype {
				//line block.qtpl:45
				case 0:
					//line block.qtpl:45
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.OrdinaryPayment",
                                `)
				//line block.qtpl:47
				case 1:
					//line block.qtpl:47
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.MultiOutCreation",
                                "attachment": {
                                    "recipients": [
                                        `)
					//line block.qtpl:52
					recipients := attachment.GetArray("recipients")

					//line block.qtpl:53
					qw422016.N().S(`
                                        `)
					//line block.qtpl:54
					for recipientId, recipient := range recipients {
						//line block.qtpl:54
						qw422016.N().S(`
                                            {
                                                "id":     `)
						//line block.qtpl:56
						qw422016.N().QZ(recipient.GetStringBytes("0"))
						//line block.qtpl:56
						qw422016.N().S(`,
                                                "amount": `)
						//line block.qtpl:57
						qw422016.N().QZ(recipient.GetStringBytes("1"))
						//line block.qtpl:57
						qw422016.N().S(`
                                            }`)
						//line block.qtpl:58
						if recipientId+1 < len(recipients) {
							//line block.qtpl:58
							qw422016.N().S(`,`)
							//line block.qtpl:58
						}
						//line block.qtpl:58
						qw422016.N().S(`
                                        `)
						//line block.qtpl:59
					}
					//line block.qtpl:59
					qw422016.N().S(`
                                    ]
                                },
                                `)
				//line block.qtpl:62
				case 2:
					//line block.qtpl:62
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.MultiSameOutCreation",
                                "attachment": {
                                    "recipients": [
                                        `)
					//line block.qtpl:67
					recipients := attachment.GetArray("recipients")

					//line block.qtpl:68
					qw422016.N().S(`
                                        `)
					//line block.qtpl:69
					for recipientId, recipient := range recipients {
						//line block.qtpl:69
						qw422016.N().S(`
                                        `)
						//line block.qtpl:70
						qw422016.N().QZ(recipient.GetStringBytes())
						//line block.qtpl:70
						if recipientId+1 < len(recipients) {
							//line block.qtpl:70
							qw422016.N().S(`,`)
							//line block.qtpl:70
						}
						//line block.qtpl:70
						qw422016.N().S(`
                                        `)
						//line block.qtpl:71
					}
					//line block.qtpl:71
					qw422016.N().S(`
                                    ]
                                },
                                `)
					//line block.qtpl:74
				}
				//line block.qtpl:74
				qw422016.N().S(`
                            `)
			//line block.qtpl:75
			case 1:
				//line block.qtpl:75
				qw422016.N().S(`
                                `)
				//line block.qtpl:76
				switch subtype {
				//line block.qtpl:77
				case 0:
					//line block.qtpl:77
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.ArbitaryMessage",
                                `)
				//line block.qtpl:79
				case 1:
					//line block.qtpl:79
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.AliasAssignment",
                                "attachment": {
                                    "alias": `)
					//line block.qtpl:82
					qw422016.N().QZ(attachment.GetStringBytes("alias"))
					//line block.qtpl:82
					qw422016.N().S(`,
                                    "uri": `)
					//line block.qtpl:83
					qw422016.N().QZ(attachment.GetStringBytes("uri"))
					//line block.qtpl:83
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:85
				case 5:
					//line block.qtpl:85
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.AccountInfo",
                                "attachment": {
                                    "name": `)
					//line block.qtpl:88
					qw422016.N().QZ(attachment.GetStringBytes("name"))
					//line block.qtpl:88
					qw422016.N().S(`,
                                    "description": `)
					//line block.qtpl:89
					qw422016.N().QZ(attachment.GetStringBytes("description"))
					//line block.qtpl:89
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:91
				case 6:
					//line block.qtpl:91
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.AliasSell",
                                "attachment": {
                                    "name": `)
					//line block.qtpl:94
					qw422016.N().QZ(attachment.GetStringBytes("alias"))
					//line block.qtpl:94
					qw422016.N().S(`,
                                    "price": `)
					//line block.qtpl:95
					qw422016.N().D(attachment.GetInt("priceNQT"))
					//line block.qtpl:95
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:97
				case 7:
					//line block.qtpl:97
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.AliasBuy",
                                "attachment": {
                                    "name": `)
					//line block.qtpl:100
					qw422016.N().QZ(attachment.GetStringBytes("alias"))
					//line block.qtpl:100
					qw422016.N().S(`
                                },
                                `)
					//line block.qtpl:102
				}
				//line block.qtpl:102
				qw422016.N().S(`
                            `)
			//line block.qtpl:103
			case 2:
				//line block.qtpl:103
				qw422016.N().S(`
                                `)
				//line block.qtpl:104
				switch subtype {
				//line block.qtpl:105
				case 0:
					//line block.qtpl:105
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.AssetIssuance",
                                "attachment": {
                                    "name": `)
					//line block.qtpl:108
					qw422016.N().QZ(attachment.GetStringBytes("name"))
					//line block.qtpl:108
					qw422016.N().S(`,
                                    "description": `)
					//line block.qtpl:109
					qw422016.N().QZ(attachment.GetStringBytes("description"))
					//line block.qtpl:109
					qw422016.N().S(`,
                                    "quantity": `)
					//line block.qtpl:110
					qw422016.N().D(attachment.GetInt("quantityQNT"))
					//line block.qtpl:110
					qw422016.N().S(`,
                                    "decimals": `)
					//line block.qtpl:111
					qw422016.N().D(attachment.GetInt("decimals"))
					//line block.qtpl:111
					qw422016.N().S(`,
                                    "comment": `)
					//line block.qtpl:112
					qw422016.N().QZ(attachment.GetStringBytes("comment"))
					//line block.qtpl:112
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:114
				case 1:
					//line block.qtpl:114
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.AssetTransfer",
                                "attachment": {
                                    "asset": `)
					//line block.qtpl:117
					qw422016.N().QZ(attachment.GetStringBytes("asset"))
					//line block.qtpl:117
					qw422016.N().S(`,
                                    "quantity": `)
					//line block.qtpl:118
					qw422016.N().D(attachment.GetInt("quantityQNT"))
					//line block.qtpl:118
					qw422016.N().S(`,
                                    "comment": `)
					//line block.qtpl:119
					qw422016.N().QZ(attachment.GetStringBytes("comment"))
					//line block.qtpl:119
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:121
				case 2:
					//line block.qtpl:121
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.AskOrderPlacement",
                                "attachment": {
                                    "asset": `)
					//line block.qtpl:124
					qw422016.N().QZ(attachment.GetStringBytes("asset"))
					//line block.qtpl:124
					qw422016.N().S(`,
                                    "quantity": `)
					//line block.qtpl:125
					qw422016.N().D(attachment.GetInt("quantityQNT"))
					//line block.qtpl:125
					qw422016.N().S(`,
                                    "price": `)
					//line block.qtpl:126
					qw422016.N().D(attachment.GetInt("priceNQT"))
					//line block.qtpl:126
					qw422016.N().S(`,
                                    "comment": `)
					//line block.qtpl:127
					qw422016.N().QZ(attachment.GetStringBytes("comment"))
					//line block.qtpl:127
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:129
				case 3:
					//line block.qtpl:129
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.BidOrderPlacement",
                                "attachment": {
                                    "asset": `)
					//line block.qtpl:132
					qw422016.N().QZ(attachment.GetStringBytes("asset"))
					//line block.qtpl:132
					qw422016.N().S(`,
                                    "quantity": "`)
					//line block.qtpl:133
					qw422016.N().D(attachment.GetInt("quantityQNT"))
					//line block.qtpl:133
					qw422016.N().S(`",
                                    "price": "`)
					//line block.qtpl:134
					qw422016.N().D(attachment.GetInt("priceNQT"))
					//line block.qtpl:134
					qw422016.N().S(`"
                                },
                                `)
				//line block.qtpl:136
				case 4:
					//line block.qtpl:136
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.AskOrderCancellation",
                                "attachment": {
                                    "order": `)
					//line block.qtpl:139
					qw422016.N().QZ(attachment.GetStringBytes("order"))
					//line block.qtpl:139
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:141
				case 5:
					//line block.qtpl:141
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.BidOrderCancellation",
                                "attachment": {
                                    "order": `)
					//line block.qtpl:144
					qw422016.N().QZ(attachment.GetStringBytes("order"))
					//line block.qtpl:144
					qw422016.N().S(`
                                },
                                `)
					//line block.qtpl:146
				}
				//line block.qtpl:146
				qw422016.N().S(`
                            `)
			//line block.qtpl:147
			case 3:
				//line block.qtpl:147
				qw422016.N().S(`
                                `)
				//line block.qtpl:148
				switch subtype {
				//line block.qtpl:149
				case 0:
					//line block.qtpl:149
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.DigitalGoodsListing",
                                "attachment": {
                                    "name": `)
					//line block.qtpl:152
					qw422016.N().QZ(attachment.GetStringBytes("name"))
					//line block.qtpl:152
					qw422016.N().S(`,
                                    "description": `)
					//line block.qtpl:153
					qw422016.N().QZ(attachment.GetStringBytes("description"))
					//line block.qtpl:153
					qw422016.N().S(`,
                                    "tags": `)
					//line block.qtpl:154
					qw422016.N().QZ(attachment.GetStringBytes("tags"))
					//line block.qtpl:154
					qw422016.N().S(`,
                                    "quantity": `)
					//line block.qtpl:155
					qw422016.N().D(attachment.GetInt("quantity"))
					//line block.qtpl:155
					qw422016.N().S(`,
                                    "price": "`)
					//line block.qtpl:156
					qw422016.N().D(attachment.GetInt("priceNQT"))
					//line block.qtpl:156
					qw422016.N().S(`"
                                },
                                `)
				//line block.qtpl:158
				case 1:
					//line block.qtpl:158
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.DigitalGoodsDelisting",
                                "attachment": {
                                    "id": `)
					//line block.qtpl:161
					qw422016.N().QZ(attachment.GetStringBytes("goods"))
					//line block.qtpl:161
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:163
				case 2:
					//line block.qtpl:163
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.DigitalGoodsPriceChange",
                                "attachment": {
                                    "id": `)
					//line block.qtpl:166
					qw422016.N().QZ(attachment.GetStringBytes("goods"))
					//line block.qtpl:166
					qw422016.N().S(`,
                                    "price": "`)
					//line block.qtpl:167
					qw422016.N().D(attachment.GetInt("priceNQT"))
					//line block.qtpl:167
					qw422016.N().S(`"
                                },
                                `)
				//line block.qtpl:169
				case 3:
					//line block.qtpl:169
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.DigitalGoodsQuantityChange",
                                "attachment": {
                                    "id": `)
					//line block.qtpl:172
					qw422016.N().QZ(attachment.GetStringBytes("goods"))
					//line block.qtpl:172
					qw422016.N().S(`,
                                    "delta": `)
					//line block.qtpl:173
					qw422016.N().D(attachment.GetInt("deltaQuantity"))
					//line block.qtpl:173
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:175
				case 4:
					//line block.qtpl:175
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.DigitalGoodsPurchase",
                                "attachment": {
                                    "id": `)
					//line block.qtpl:178
					qw422016.N().QZ(attachment.GetStringBytes("goods"))
					//line block.qtpl:178
					qw422016.N().S(`,
                                    "quantity": `)
					//line block.qtpl:179
					qw422016.N().D(attachment.GetInt("quantity"))
					//line block.qtpl:179
					qw422016.N().S(`,
                                    "price": "`)
					//line block.qtpl:180
					qw422016.N().D(attachment.GetInt("priceNQT"))
					//line block.qtpl:180
					qw422016.N().S(`",
                                    "deliveryDeadlineTimestamp": `)
					//line block.qtpl:181
					qw422016.N().D(attachment.GetInt("deliveryDeadlineTimestamp"))
					//line block.qtpl:181
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:183
				case 5:
					//line block.qtpl:183
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.DigitalGoodsDelivery",
                                "attachment": {
                                    "purchase": `)
					//line block.qtpl:186
					qw422016.N().QZ(attachment.GetStringBytes("purchase"))
					//line block.qtpl:186
					qw422016.N().S(`,
                                    "isText": `)
					//line block.qtpl:187
					if attachment.GetBool("goodsIsText") {
						//line block.qtpl:187
						qw422016.N().S(`true`)
						//line block.qtpl:187
					} else {
						//line block.qtpl:187
						qw422016.N().S(`false`)
						//line block.qtpl:187
					}
					//line block.qtpl:187
					qw422016.N().S(`,
                                    "data": `)
					//line block.qtpl:188
					qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(attachment.GetStringBytes("goodsData")))
					//line block.qtpl:188
					qw422016.N().S(`,
                                    "nonce": `)
					//line block.qtpl:189
					qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(attachment.GetStringBytes("goodsNonce")))
					//line block.qtpl:189
					qw422016.N().S(`,
                                    "discount": "`)
					//line block.qtpl:190
					qw422016.N().D(attachment.GetInt("discountNQT"))
					//line block.qtpl:190
					qw422016.N().S(`"
                                },
                                `)
				//line block.qtpl:192
				case 6:
					//line block.qtpl:192
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.DigitalGoodsFeedback",
                                "attachment": {
                                    "purchase": `)
					//line block.qtpl:195
					qw422016.N().QZ(attachment.GetStringBytes("purchase"))
					//line block.qtpl:195
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:197
				case 7:
					//line block.qtpl:197
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.DigitalGoodsRefund",
                                "attachment": {
                                    "purchase": `)
					//line block.qtpl:200
					qw422016.N().QZ(attachment.GetStringBytes("purchase"))
					//line block.qtpl:200
					qw422016.N().S(`,
                                    "refund": "`)
					//line block.qtpl:201
					qw422016.N().D(attachment.GetInt("refundNQT"))
					//line block.qtpl:201
					qw422016.N().S(`"
                                },
                                `)
					//line block.qtpl:203
				}
				//line block.qtpl:203
				qw422016.N().S(`
                            `)
			//line block.qtpl:204
			case 4:
				//line block.qtpl:204
				qw422016.N().S(`
                                `)
				//line block.qtpl:205
				switch subtype {
				//line block.qtpl:206
				case 0:
					//line block.qtpl:206
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.EffectiveBalanceLeasing",
                                "attachment": {
                                    "period": `)
					//line block.qtpl:209
					qw422016.N().D(attachment.GetInt("period"))
					//line block.qtpl:209
					qw422016.N().S(`
                                },
                                `)
					//line block.qtpl:211
				}
				//line block.qtpl:211
				qw422016.N().S(`
                            `)
			//line block.qtpl:212
			case 20:
				//line block.qtpl:212
				qw422016.N().S(`
                                `)
				//line block.qtpl:213
				switch subtype {
				//line block.qtpl:214
				case 0:
					//line block.qtpl:214
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.RewardRecipientAssignment",
                                `)
					//line block.qtpl:216
				}
				//line block.qtpl:216
				qw422016.N().S(`
                            `)
			//line block.qtpl:217
			case 21:
				//line block.qtpl:217
				qw422016.N().S(`
                                `)
				//line block.qtpl:218
				switch subtype {
				//line block.qtpl:219
				case 0:
					//line block.qtpl:219
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.EscrowCreation",
                                "attachment": {
                                    "amount": `)
					//line block.qtpl:222
					qw422016.N().QZ(attachment.GetStringBytes("amountNQT"))
					//line block.qtpl:222
					qw422016.N().S(`,
                                    "deadline": `)
					//line block.qtpl:223
					qw422016.N().D(attachment.GetInt("deadline"))
					//line block.qtpl:223
					qw422016.N().S(`,
                                    "deadlineAction": `)
					//line block.qtpl:224
					qw422016.N().QZ(attachment.GetStringBytes("deadlineAction"))
					//line block.qtpl:224
					qw422016.N().S(`,
                                    "requiredSigners": `)
					//line block.qtpl:225
					qw422016.N().D(attachment.GetInt("requiredSigners"))
					//line block.qtpl:225
					qw422016.N().S(`,
                                    "signers": [
                                        `)
					//line block.qtpl:228
					signers := attachment.GetArray("signers")

					//line block.qtpl:229
					qw422016.N().S(`
                                        `)
					//line block.qtpl:230
					for signerId, signer := range signers {
						//line block.qtpl:230
						qw422016.N().S(`
                                        `)
						//line block.qtpl:231
						qw422016.N().QZ(signer.GetStringBytes())
						//line block.qtpl:231
						if signerId+1 < len(signers) {
							//line block.qtpl:231
							qw422016.N().S(`,`)
							//line block.qtpl:231
						}
						//line block.qtpl:231
						qw422016.N().S(`
                                        `)
						//line block.qtpl:232
					}
					//line block.qtpl:232
					qw422016.N().S(`
                                    ]
                                },
                                `)
				//line block.qtpl:235
				case 1:
					//line block.qtpl:235
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.EscrowSign",
                                "attachment": {
                                    "id": `)
					//line block.qtpl:238
					qw422016.N().QZ(attachment.GetStringBytes("escrowID"))
					//line block.qtpl:238
					qw422016.N().S(`,
                                    "decision": `)
					//line block.qtpl:239
					qw422016.N().D(attachment.GetInt("decision"))
					//line block.qtpl:239
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:241
				case 2:
					//line block.qtpl:241
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.EscrowResult",
                                "attachment": {
                                    "id": `)
					//line block.qtpl:244
					qw422016.N().QZ(attachment.GetStringBytes("escrowID"))
					//line block.qtpl:244
					qw422016.N().S(`,
                                    "decision": `)
					//line block.qtpl:245
					qw422016.N().D(attachment.GetInt("decision"))
					//line block.qtpl:245
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:247
				case 3:
					//line block.qtpl:247
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.SubscriptionSubscribe",
                                "attachment": {
                                    "frequency": `)
					//line block.qtpl:250
					qw422016.N().D(attachment.GetInt("frequency"))
					//line block.qtpl:250
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:252
				case 4:
					//line block.qtpl:252
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.SubscriptionCancel",
                                "attachment": {
                                    "id": `)
					//line block.qtpl:255
					qw422016.N().QZ(attachment.GetStringBytes("subscriptionId"))
					//line block.qtpl:255
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:257
				case 5:
					//line block.qtpl:257
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.SubscriptionPayment",
                                "attachment": {
                                    "ids": [
                                        `)
					//line block.qtpl:262
					subscribers := attachment.GetArray("subscriptionIDs")

					//line block.qtpl:263
					qw422016.N().S(`
                                        `)
					//line block.qtpl:264
					for subscriberId, subscriber := range subscribers {
						//line block.qtpl:264
						qw422016.N().S(`
                                        `)
						//line block.qtpl:265
						qw422016.N().QZ(subscriber.GetStringBytes())
						//line block.qtpl:265
						if subscriberId+1 < len(subscribers) {
							//line block.qtpl:265
							qw422016.N().S(`,`)
							//line block.qtpl:265
						}
						//line block.qtpl:265
						qw422016.N().S(`
                                        `)
						//line block.qtpl:266
					}
					//line block.qtpl:266
					qw422016.N().S(`
                                    ]
                                }
                                `)
					//line block.qtpl:269
				}
				//line block.qtpl:269
				qw422016.N().S(`
                            `)
			//line block.qtpl:270
			case 22:
				//line block.qtpl:270
				qw422016.N().S(`
                                `)
				//line block.qtpl:271
				switch subtype {
				//line block.qtpl:272
				case 0:
					//line block.qtpl:272
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.AutomatedTransactionsCreation",
                                "attachment": {
                                    "name": `)
					//line block.qtpl:275
					qw422016.N().QZ(attachment.GetStringBytes("name"))
					//line block.qtpl:275
					qw422016.N().S(`,
                                    "description": `)
					//line block.qtpl:276
					qw422016.N().QZ(attachment.GetStringBytes("description"))
					//line block.qtpl:276
					qw422016.N().S(`,
                                    "bytes": `)
					//line block.qtpl:277
					qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(attachment.GetStringBytes("creationBytes")))
					//line block.qtpl:277
					qw422016.N().S(`
                                },
                                `)
				//line block.qtpl:279
				case 1:
					//line block.qtpl:279
					qw422016.N().S(`
                                "@type":"type.googleapis.com/p2p.AutomatedTransactionsPayment",
                                `)
					//line block.qtpl:281
				}
				//line block.qtpl:281
				qw422016.N().S(`
                            `)
				//line block.qtpl:282
			}
			//line block.qtpl:282
			qw422016.N().S(`
                            "header": {
                                "version":         `)
			//line block.qtpl:284
			qw422016.N().D(tx.GetInt("version"))
			//line block.qtpl:284
			qw422016.N().S(`,
                                "timestamp":       `)
			//line block.qtpl:285
			qw422016.N().D(tx.GetInt("timestamp"))
			//line block.qtpl:285
			qw422016.N().S(`,
                                "amount":          `)
			//line block.qtpl:286
			qw422016.N().D(tx.GetInt("amountNQT"))
			//line block.qtpl:286
			qw422016.N().S(`,
                                "fee":             `)
			//line block.qtpl:287
			qw422016.N().D(tx.GetInt("feeNQT"))
			//line block.qtpl:287
			qw422016.N().S(`,
                                `)
			//line block.qtpl:288
			if tx.Exists("recipient") {
				//line block.qtpl:288
				qw422016.N().S(`
                                "recipient":       `)
				//line block.qtpl:289
				qw422016.N().QZ(tx.GetStringBytes("recipient"))
				//line block.qtpl:289
				qw422016.N().S(`,
                                `)
				//line block.qtpl:290
			}
			//line block.qtpl:290
			qw422016.N().S(`
                                "senderPublicKey": `)
			//line block.qtpl:291
			qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(tx.GetStringBytes("senderPublicKey")))
			//line block.qtpl:291
			qw422016.N().S(`,
                                "deadline":        `)
			//line block.qtpl:292
			qw422016.N().D(tx.GetInt("deadline"))
			//line block.qtpl:292
			qw422016.N().S(`,
                                "ecBlockId":       `)
			//line block.qtpl:293
			qw422016.N().QZ(tx.GetStringBytes("ecBlockId"))
			//line block.qtpl:293
			qw422016.N().S(`,
                                "ecBlockHeight":   `)
			//line block.qtpl:294
			qw422016.N().D(tx.GetInt("ecBlockHeight"))
			//line block.qtpl:294
			qw422016.N().S(`,
                                "signature":       `)
			//line block.qtpl:295
			qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(tx.GetStringBytes("signature")))
			//line block.qtpl:295
			qw422016.N().S(`
                            }
                            `)
			//line block.qtpl:298
			hasMessage := attachment.Exists("version.Message") || attachment.Exists("message")
			hasEncryptedMessage := attachment.Exists("version.EncryptedMessage")
			hasPublicKeyAnnouncement := attachment.Exists("version.PublicKeyAnnouncement")
			hasEncryptToSelfMessage := attachment.Exists("version.EncryptToSelfMessage")

			//line block.qtpl:302
			qw422016.N().S(`
                            `)
			//line block.qtpl:303
			if hasMessage || hasEncryptedMessage || hasPublicKeyAnnouncement || hasEncryptToSelfMessage {
				//line block.qtpl:303
				qw422016.N().S(`
                            ,
                            "appendix": {
                                `)
				//line block.qtpl:306
				if hasMessage {
					//line block.qtpl:306
					qw422016.N().S(`
                                "message": {
                                    "isText":  `)
					//line block.qtpl:308
					if attachment.GetBool("messageIsText") {
						//line block.qtpl:308
						qw422016.N().S(`true`)
						//line block.qtpl:308
					} else {
						//line block.qtpl:308
						qw422016.N().S(`false`)
						//line block.qtpl:308
					}
					//line block.qtpl:308
					qw422016.N().S(`,
                                    "content": `)
					//line block.qtpl:309
					qw422016.N().QZ(attachment.GetStringBytes("message"))
					//line block.qtpl:309
					qw422016.N().S(`
                                }`)
					//line block.qtpl:310
					if hasEncryptedMessage || hasPublicKeyAnnouncement || hasEncryptToSelfMessage {
						//line block.qtpl:310
						qw422016.N().S(`,`)
						//line block.qtpl:310
					}
					//line block.qtpl:310
					qw422016.N().S(`
                                `)
					//line block.qtpl:311
				}
				//line block.qtpl:311
				qw422016.N().S(`
                                `)
				//line block.qtpl:312
				if hasEncryptedMessage {
					//line block.qtpl:312
					qw422016.N().S(`
                                "encryptedMessage": {
                                    "data":   `)
					//line block.qtpl:314
					qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(attachment.GetStringBytes("encryptedMessage", "data")))
					//line block.qtpl:314
					qw422016.N().S(`,
                                    "isText": `)
					//line block.qtpl:315
					if attachment.GetBool("encryptedMessage", "isText") {
						//line block.qtpl:315
						qw422016.N().S(`true`)
						//line block.qtpl:315
					} else {
						//line block.qtpl:315
						qw422016.N().S(`false`)
						//line block.qtpl:315
					}
					//line block.qtpl:315
					qw422016.N().S(`,
                                    "nonce":  `)
					//line block.qtpl:316
					qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(attachment.GetStringBytes("encryptedMessage", "nonce")))
					//line block.qtpl:316
					qw422016.N().S(`
                                }`)
					//line block.qtpl:317
					if hasPublicKeyAnnouncement || hasEncryptToSelfMessage {
						//line block.qtpl:317
						qw422016.N().S(`,`)
						//line block.qtpl:317
					}
					//line block.qtpl:317
					qw422016.N().S(`
                                `)
					//line block.qtpl:318
				}
				//line block.qtpl:318
				qw422016.N().S(`
                                `)
				//line block.qtpl:319
				if hasPublicKeyAnnouncement {
					//line block.qtpl:319
					qw422016.N().S(`
                                "publicKeyAnnouncement": {
                                    "publicKey": `)
					//line block.qtpl:321
					qw422016.N().QZ(attachment.GetStringBytes("recipientPublicKey"))
					//line block.qtpl:321
					qw422016.N().S(`
                                }`)
					//line block.qtpl:322
					if hasEncryptToSelfMessage {
						//line block.qtpl:322
						qw422016.N().S(`,`)
						//line block.qtpl:322
					}
					//line block.qtpl:322
					qw422016.N().S(`
                                `)
					//line block.qtpl:323
				}
				//line block.qtpl:323
				qw422016.N().S(`
                                `)
				//line block.qtpl:324
				if hasEncryptToSelfMessage {
					//line block.qtpl:324
					qw422016.N().S(`    
                                "encryptToSelfMessage": {
                                    "data":   `)
					//line block.qtpl:326
					qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(attachment.GetStringBytes("encryptToSelfMessage", "data")))
					//line block.qtpl:326
					qw422016.N().S(`,
                                    "isText": `)
					//line block.qtpl:327
					if attachment.GetBool("encryptToSelfMessage", "isText") {
						//line block.qtpl:327
						qw422016.N().S(`true`)
						//line block.qtpl:327
					} else {
						//line block.qtpl:327
						qw422016.N().S(`false`)
						//line block.qtpl:327
					}
					//line block.qtpl:327
					qw422016.N().S(`,
                                    "nonce":  `)
					//line block.qtpl:328
					qw422016.N().QZ(encoding.HexStringBytesToBase64Bytes(attachment.GetStringBytes("encryptToSelfMessage", "nonce")))
					//line block.qtpl:328
					qw422016.N().S(`
                                }
                                `)
					//line block.qtpl:330
				}
				//line block.qtpl:330
				qw422016.N().S(`
                            }
                            `)
				//line block.qtpl:332
			}
			//line block.qtpl:332
			qw422016.N().S(`
                        }`)
			//line block.qtpl:333
			if txId+1 < len(transactions) {
				//line block.qtpl:333
				qw422016.N().S(`,`)
				//line block.qtpl:333
			}
			//line block.qtpl:333
			qw422016.N().S(`
                    `)
			//line block.qtpl:334
		}
		//line block.qtpl:334
		qw422016.N().S(`
                ]
            }`)
		//line block.qtpl:336
		if blockId+1 < len(blocks) {
			//line block.qtpl:336
			qw422016.N().S(`,`)
			//line block.qtpl:336
		}
		//line block.qtpl:336
		qw422016.N().S(`
        `)
		//line block.qtpl:337
	}
	//line block.qtpl:337
	qw422016.N().S(`
    ]
}
`)
//line block.qtpl:340
}

//line block.qtpl:340
func WriteUpgrade(qq422016 qtio422016.Writer, src *fastjson.Value) {
	//line block.qtpl:340
	qw422016 := qt422016.AcquireWriter(qq422016)
	//line block.qtpl:340
	StreamUpgrade(qw422016, src)
	//line block.qtpl:340
	qt422016.ReleaseWriter(qw422016)
//line block.qtpl:340
}

//line block.qtpl:340
func Upgrade(src *fastjson.Value) string {
	//line block.qtpl:340
	qb422016 := qt422016.AcquireByteBuffer()
	//line block.qtpl:340
	WriteUpgrade(qb422016, src)
	//line block.qtpl:340
	qs422016 := string(qb422016.B)
	//line block.qtpl:340
	qt422016.ReleaseByteBuffer(qb422016)
	//line block.qtpl:340
	return qs422016
//line block.qtpl:340
}

//line block.qtpl:341
func StreamDowngrade(qw422016 *qt422016.Writer, pb *p2p.GetNextBlocksResponse) {
	//line block.qtpl:341
	qw422016.N().S(`
{
    "nextBlocks": [
        `)
	//line block.qtpl:345
	blocks := pb.NextBlocks

	//line block.qtpl:346
	qw422016.N().S(`
        `)
	//line block.qtpl:347
	for blockId, block := range blocks {
		//line block.qtpl:347
		qw422016.N().S(`
        {
            "timestamp":           `)
		//line block.qtpl:349
		qw422016.E().V(block.Timestamp)
		//line block.qtpl:349
		qw422016.N().S(`,
            "previousBlock":       "`)
		//line block.qtpl:350
		qw422016.E().V(block.PreviousBlock)
		//line block.qtpl:350
		qw422016.N().S(`",
            "blockATs":            `)
		//line block.qtpl:351
		if string(block.BlockATs) == "" {
			//line block.qtpl:351
			qw422016.N().S(`null`)
			//line block.qtpl:351
		} else {
			//line block.qtpl:351
			qw422016.N().QZ(block.BlockATs)
			//line block.qtpl:351
		}
		//line block.qtpl:351
		qw422016.N().S(`,
            "totalFeeNQT":         `)
		//line block.qtpl:352
		qw422016.E().V(block.TotalFee)
		//line block.qtpl:352
		qw422016.N().S(`,
            "nonce":               "`)
		//line block.qtpl:353
		qw422016.E().V(block.Nonce)
		//line block.qtpl:353
		qw422016.N().S(`",
            "version":             `)
		//line block.qtpl:354
		qw422016.E().V(block.Version)
		//line block.qtpl:354
		qw422016.N().S(`,
            "blockSignature":      `)
		//line block.qtpl:355
		qw422016.N().QZ(encoding.BytesToHexStringBytes(block.BlockSignature))
		//line block.qtpl:355
		qw422016.N().S(`,
            "payloadHash":         `)
		//line block.qtpl:356
		qw422016.N().QZ(encoding.BytesToHexStringBytes(block.PayloadHash))
		//line block.qtpl:356
		qw422016.N().S(`,
            "generatorPublicKey":  `)
		//line block.qtpl:357
		qw422016.N().QZ(encoding.BytesToHexStringBytes(block.GeneratorPublicKey))
		//line block.qtpl:357
		qw422016.N().S(`,
            "generationSignature": `)
		//line block.qtpl:358
		qw422016.N().QZ(encoding.BytesToHexStringBytes(block.GenerationSignature))
		//line block.qtpl:358
		qw422016.N().S(`,
            "totalAmountNQT":      `)
		//line block.qtpl:359
		qw422016.E().V(block.TotalAmount)
		//line block.qtpl:359
		qw422016.N().S(`,
            "payloadLength":       `)
		//line block.qtpl:360
		qw422016.E().V(block.PayloadLength)
		//line block.qtpl:360
		qw422016.N().S(`,
            "previousBlockHash":   `)
		//line block.qtpl:361
		qw422016.N().QZ(encoding.BytesToHexStringBytes(block.PreviousBlockHash))
		//line block.qtpl:361
		qw422016.N().S(`,
            "transactions": [
                `)
		//line block.qtpl:364
		transactions := block.Transactions

		//line block.qtpl:365
		qw422016.N().S(`
                `)
		//line block.qtpl:366
		for txId, transaction := range transactions {
			//line block.qtpl:366
			qw422016.N().S(`
                {
                    `)
			//line block.qtpl:369
			txType := transaction.GetTypeUrl()
			if slash := strings.LastIndex(txType, "/"); slash >= 0 {
				txType = txType[slash+1:]
			}

			hasAttachmentData := false
			var header *p2p.TransactionHeader
			var appendix *p2p.Appendix

			//line block.qtpl:377
			qw422016.N().S(`
                    `)
			//line block.qtpl:378
			switch txType {
			//line block.qtpl:379
			case "p2p.OrdinaryPayment":
				//line block.qtpl:379
				qw422016.N().S(`
                        `)
				//line block.qtpl:381
				tx := new(p2p.OrdinaryPayment)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix

				//line block.qtpl:385
				qw422016.N().S(`
                            "type":       0,
                            "subtype":    0,
                            "attachment": {
                        `)
			//line block.qtpl:389
			case "p2p.MultiOutCreation":
				//line block.qtpl:389
				qw422016.N().S(`
                        `)
				//line block.qtpl:391
				tx := new(p2p.MultiOutCreation)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:396
				qw422016.N().S(`
                            "type":       0,
                            "subtype":    1,
                            "attachment": {
                                "recipients": [
                                    `)
				//line block.qtpl:402
				recipients := tx.Attachment.Recipients

				//line block.qtpl:403
				qw422016.N().S(`
                                    `)
				//line block.qtpl:404
				for recipientId, recipient := range recipients {
					//line block.qtpl:404
					qw422016.N().S(`
                                    [
                                        "`)
					//line block.qtpl:406
					qw422016.E().V(recipient.Id)
					//line block.qtpl:406
					qw422016.N().S(`",
                                        "`)
					//line block.qtpl:407
					qw422016.E().V(recipient.Amount)
					//line block.qtpl:407
					qw422016.N().S(`"
                                    ]
                                    `)
					//line block.qtpl:409
					if recipientId+1 < len(recipients) {
						//line block.qtpl:409
						qw422016.N().S(`,`)
						//line block.qtpl:409
					}
					//line block.qtpl:409
					qw422016.N().S(`
                                    `)
					//line block.qtpl:410
				}
				//line block.qtpl:410
				qw422016.N().S(`
                                ]
                        `)
			//line block.qtpl:412
			case "p2p.MultiSameOutCreation":
				//line block.qtpl:412
				qw422016.N().S(`
                        `)
				//line block.qtpl:414
				tx := new(p2p.MultiSameOutCreation)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:419
				qw422016.N().S(`
                            "type":       0,
                            "subtype":    2,
                            "attachment": {
                                "recipients": [
                                    `)
				//line block.qtpl:425
				recipients := tx.Attachment.Recipients

				//line block.qtpl:426
				qw422016.N().S(`
                                    `)
				//line block.qtpl:427
				for recipientId, recipient := range recipients {
					//line block.qtpl:427
					qw422016.N().S(`
                                    "`)
					//line block.qtpl:428
					qw422016.E().V(recipient)
					//line block.qtpl:428
					qw422016.N().S(`"
                                    `)
					//line block.qtpl:429
					if recipientId+1 < len(recipients) {
						//line block.qtpl:429
						qw422016.N().S(`,`)
						//line block.qtpl:429
					}
					//line block.qtpl:429
					qw422016.N().S(`
                                    `)
					//line block.qtpl:430
				}
				//line block.qtpl:430
				qw422016.N().S(`
                                ]
                        `)
			//line block.qtpl:432
			case "p2p.ArbitaryMessage":
				//line block.qtpl:432
				qw422016.N().S(`
                        `)
				//line block.qtpl:434
				tx := new(p2p.ArbitaryMessage)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix

				//line block.qtpl:438
				qw422016.N().S(`
                            "type":       1,
                            "subtype":    0,
                            "attachment": {
                        `)
			//line block.qtpl:442
			case "p2p.AliasAssignment":
				//line block.qtpl:442
				qw422016.N().S(`
                        `)
				//line block.qtpl:444
				tx := new(p2p.AliasAssignment)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:449
				qw422016.N().S(`
                            "type":       1,
                            "subtype":    1,
                            "attachment": {
                                "alias": `)
				//line block.qtpl:453
				qw422016.N().Q(tx.Attachment.Alias)
				//line block.qtpl:453
				qw422016.N().S(`,
                                "uri": `)
				//line block.qtpl:454
				qw422016.N().Q(tx.Attachment.Uri)
				//line block.qtpl:454
				qw422016.N().S(`
                        `)
			//line block.qtpl:455
			case "p2p.AccountInfo":
				//line block.qtpl:455
				qw422016.N().S(`
                        `)
				//line block.qtpl:457
				tx := new(p2p.AccountInfo)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:462
				qw422016.N().S(`
                            "type":       1,
                            "subtype":    5,
                            "attachment": {
                                "name": `)
				//line block.qtpl:466
				qw422016.N().Q(tx.Attachment.Name)
				//line block.qtpl:466
				qw422016.N().S(`,
                                "description": `)
				//line block.qtpl:467
				qw422016.N().Q(tx.Attachment.Description)
				//line block.qtpl:467
				qw422016.N().S(`
                        `)
			//line block.qtpl:468
			case "p2p.AliasSell":
				//line block.qtpl:468
				qw422016.N().S(`
                        `)
				//line block.qtpl:470
				tx := new(p2p.AliasSell)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:475
				qw422016.N().S(`
                            "type":       1,
                            "subtype":    6,
                            `)
				//line block.qtpl:478
				if header.Recipient == 0 {
					//line block.qtpl:478
					qw422016.N().S(`"recipient":"0",`)
					//line block.qtpl:478
				}
				//line block.qtpl:478
				qw422016.N().S(`
                            "attachment": {
                                "alias":     `)
				//line block.qtpl:480
				qw422016.N().Q(tx.Attachment.Name)
				//line block.qtpl:480
				qw422016.N().S(`,
                                "priceNQT": `)
				//line block.qtpl:481
				qw422016.E().V(tx.Attachment.Price)
				//line block.qtpl:481
				qw422016.N().S(`
                        `)
			//line block.qtpl:482
			case "p2p.AliasBuy":
				//line block.qtpl:482
				qw422016.N().S(`
                        `)
				//line block.qtpl:484
				tx := new(p2p.AliasBuy)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:489
				qw422016.N().S(`
                            "type":       1,
                            "subtype":    7,
                            "attachment": {
                                "alias": `)
				//line block.qtpl:493
				qw422016.N().Q(tx.Attachment.Name)
				//line block.qtpl:493
				qw422016.N().S(`
                        `)
			//line block.qtpl:494
			case "p2p.AssetIssuance":
				//line block.qtpl:494
				qw422016.N().S(`
                        `)
				//line block.qtpl:496
				tx := new(p2p.AssetIssuance)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:501
				qw422016.N().S(`
                            "type":       2,
                            "subtype":    0,
                            "attachment": {
                                "name": `)
				//line block.qtpl:505
				qw422016.N().Q(tx.Attachment.Name)
				//line block.qtpl:505
				qw422016.N().S(`,
                                "description": `)
				//line block.qtpl:506
				qw422016.N().Q(tx.Attachment.Description)
				//line block.qtpl:506
				qw422016.N().S(`,
                                "quantityQNT": `)
				//line block.qtpl:507
				qw422016.E().V(tx.Attachment.Quantity)
				//line block.qtpl:507
				qw422016.N().S(`,
                                "decimals": `)
				//line block.qtpl:508
				qw422016.E().V(tx.Attachment.Decimals)
				//line block.qtpl:508
				qw422016.N().S(`
                                `)
				//line block.qtpl:509
				if len(tx.Attachment.Comment) > 0 {
					//line block.qtpl:509
					qw422016.N().S(`, "comment": `)
					//line block.qtpl:509
					qw422016.N().Q(tx.Attachment.Comment)
					//line block.qtpl:509
				}
				//line block.qtpl:509
				qw422016.N().S(`
                        `)
			//line block.qtpl:510
			case "p2p.AssetTransfer":
				//line block.qtpl:510
				qw422016.N().S(`
                        `)
				//line block.qtpl:512
				tx := new(p2p.AssetTransfer)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:517
				qw422016.N().S(`
                            "type":       2,
                            "subtype":    1,
                            "attachment": {
                                "asset": "`)
				//line block.qtpl:521
				qw422016.E().V(tx.Attachment.Asset)
				//line block.qtpl:521
				qw422016.N().S(`",
                                "quantityQNT": `)
				//line block.qtpl:522
				qw422016.E().V(tx.Attachment.Quantity)
				//line block.qtpl:522
				qw422016.N().S(`
                                `)
				//line block.qtpl:523
				if len(tx.Attachment.Comment) > 0 {
					//line block.qtpl:523
					qw422016.N().S(`, "comment": `)
					//line block.qtpl:523
					qw422016.N().Q(tx.Attachment.Comment)
					//line block.qtpl:523
				}
				//line block.qtpl:523
				qw422016.N().S(`
                        `)
			//line block.qtpl:524
			case "p2p.AskOrderPlacement":
				//line block.qtpl:524
				qw422016.N().S(`
                        `)
				//line block.qtpl:526
				tx := new(p2p.AskOrderPlacement)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:531
				qw422016.N().S(`
                            "type":       2,
                            "subtype":    2,
                            "attachment": {
                                "asset": "`)
				//line block.qtpl:535
				qw422016.E().V(tx.Attachment.Asset)
				//line block.qtpl:535
				qw422016.N().S(`",
                                "quantityQNT": `)
				//line block.qtpl:536
				qw422016.E().V(tx.Attachment.Quantity)
				//line block.qtpl:536
				qw422016.N().S(`,
                                "priceNQT": `)
				//line block.qtpl:537
				qw422016.E().V(tx.Attachment.Price)
				//line block.qtpl:537
				qw422016.N().S(`
                                `)
				//line block.qtpl:538
				if len(tx.Attachment.Comment) > 0 {
					//line block.qtpl:538
					qw422016.N().S(`, "comment": `)
					//line block.qtpl:538
					qw422016.N().Q(tx.Attachment.Comment)
					//line block.qtpl:538
				}
				//line block.qtpl:538
				qw422016.N().S(`
                        `)
			//line block.qtpl:539
			case "p2p.BidOrderPlacement":
				//line block.qtpl:539
				qw422016.N().S(`
                        `)
				//line block.qtpl:541
				tx := new(p2p.BidOrderPlacement)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:546
				qw422016.N().S(`
                            "type":       2,
                            "subtype":    3,
                            "attachment": {
                                "asset": "`)
				//line block.qtpl:550
				qw422016.E().V(tx.Attachment.Asset)
				//line block.qtpl:550
				qw422016.N().S(`",
                                "quantityQNT": `)
				//line block.qtpl:551
				qw422016.E().V(tx.Attachment.Quantity)
				//line block.qtpl:551
				qw422016.N().S(`,
                                "priceNQT": `)
				//line block.qtpl:552
				qw422016.E().V(tx.Attachment.Price)
				//line block.qtpl:552
				qw422016.N().S(`
                        `)
			//line block.qtpl:553
			case "p2p.AskOrderCancellation":
				//line block.qtpl:553
				qw422016.N().S(`
                        `)
				//line block.qtpl:555
				tx := new(p2p.AskOrderCancellation)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:560
				qw422016.N().S(`
                            "type":       2,
                            "subtype":    4,
                            "attachment": {
                                "order": "`)
				//line block.qtpl:564
				qw422016.E().V(tx.Attachment.Order)
				//line block.qtpl:564
				qw422016.N().S(`"
                        `)
			//line block.qtpl:565
			case "p2p.BidOrderCancellation":
				//line block.qtpl:565
				qw422016.N().S(`
                        `)
				//line block.qtpl:567
				tx := new(p2p.BidOrderCancellation)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:572
				qw422016.N().S(`
                            "type":       2,
                            "subtype":    5,
                            "attachment": {
                                "order": "`)
				//line block.qtpl:576
				qw422016.E().V(tx.Attachment.Order)
				//line block.qtpl:576
				qw422016.N().S(`"
                        `)
			//line block.qtpl:577
			case "p2p.DigitalGoodsListing":
				//line block.qtpl:577
				qw422016.N().S(`
                        `)
				//line block.qtpl:579
				tx := new(p2p.DigitalGoodsListing)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:584
				qw422016.N().S(`
                            "type":       3,
                            "subtype":    0,
                            "attachment": {
                                "name": `)
				//line block.qtpl:588
				qw422016.N().Q(tx.Attachment.Name)
				//line block.qtpl:588
				qw422016.N().S(`,
                                "description": `)
				//line block.qtpl:589
				qw422016.N().Q(tx.Attachment.Description)
				//line block.qtpl:589
				qw422016.N().S(`,
                                "tags": `)
				//line block.qtpl:590
				qw422016.N().Q(tx.Attachment.Tags)
				//line block.qtpl:590
				qw422016.N().S(`,
                                "quantity": `)
				//line block.qtpl:591
				qw422016.E().V(tx.Attachment.Quantity)
				//line block.qtpl:591
				qw422016.N().S(`,
                                "priceNQT": `)
				//line block.qtpl:592
				qw422016.E().V(tx.Attachment.Price)
				//line block.qtpl:592
				qw422016.N().S(`
                        `)
			//line block.qtpl:593
			case "p2p.DigitalGoodsDelisting":
				//line block.qtpl:593
				qw422016.N().S(`
                        `)
				//line block.qtpl:595
				tx := new(p2p.DigitalGoodsDelisting)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:600
				qw422016.N().S(`
                            "type":       3,
                            "subtype":    1,
                            "attachment": {
                                "goods": "`)
				//line block.qtpl:604
				qw422016.E().V(tx.Attachment.Id)
				//line block.qtpl:604
				qw422016.N().S(`"
                        `)
			//line block.qtpl:605
			case "p2p.DigitalGoodsPriceChange":
				//line block.qtpl:605
				qw422016.N().S(`
                        `)
				//line block.qtpl:607
				tx := new(p2p.DigitalGoodsPriceChange)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:612
				qw422016.N().S(`
                            "type":       3,
                            "subtype":    2,
                            "attachment": {
                                "goods": "`)
				//line block.qtpl:616
				qw422016.E().V(tx.Attachment.Id)
				//line block.qtpl:616
				qw422016.N().S(`",
                                "priceNQT": `)
				//line block.qtpl:617
				qw422016.E().V(tx.Attachment.Price)
				//line block.qtpl:617
				qw422016.N().S(`
                        `)
			//line block.qtpl:618
			case "p2p.DigitalGoodsQuantityChange":
				//line block.qtpl:618
				qw422016.N().S(`
                        `)
				//line block.qtpl:620
				tx := new(p2p.DigitalGoodsQuantityChange)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:625
				qw422016.N().S(`
                            "type":       3,
                            "subtype":    3,
                            "attachment": {
                                "goods": "`)
				//line block.qtpl:629
				qw422016.E().V(tx.Attachment.Id)
				//line block.qtpl:629
				qw422016.N().S(`",
                                "deltaQuantity": `)
				//line block.qtpl:630
				qw422016.E().V(tx.Attachment.Delta)
				//line block.qtpl:630
				qw422016.N().S(`
                        `)
			//line block.qtpl:631
			case "p2p.DigitalGoodsPurchase":
				//line block.qtpl:631
				qw422016.N().S(`
                        `)
				//line block.qtpl:633
				tx := new(p2p.DigitalGoodsPurchase)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:638
				qw422016.N().S(`
                            "type":       3,
                            "subtype":    4,
                            "attachment": {
                                "goods": "`)
				//line block.qtpl:642
				qw422016.E().V(tx.Attachment.Id)
				//line block.qtpl:642
				qw422016.N().S(`",
                                "quantity": `)
				//line block.qtpl:643
				qw422016.E().V(tx.Attachment.Quantity)
				//line block.qtpl:643
				qw422016.N().S(`,
                                "priceNQT": `)
				//line block.qtpl:644
				qw422016.E().V(tx.Attachment.Price)
				//line block.qtpl:644
				qw422016.N().S(`,
                                "deliveryDeadlineTimestamp": `)
				//line block.qtpl:645
				qw422016.E().V(tx.Attachment.DeliveryDeadlineTimestamp)
				//line block.qtpl:645
				qw422016.N().S(`
                        `)
			//line block.qtpl:646
			case "p2p.DigitalGoodsDelivery":
				//line block.qtpl:646
				qw422016.N().S(`
                        `)
				//line block.qtpl:648
				tx := new(p2p.DigitalGoodsDelivery)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:653
				qw422016.N().S(`
                            "type":       3,
                            "subtype":    5,
                            "attachment": {
                                "purchase": "`)
				//line block.qtpl:657
				qw422016.E().V(tx.Attachment.Purchase)
				//line block.qtpl:657
				qw422016.N().S(`",
                                "goodsIsText": `)
				//line block.qtpl:658
				if tx.Attachment.IsText {
					//line block.qtpl:658
					qw422016.N().S(`true`)
					//line block.qtpl:658
				} else {
					//line block.qtpl:658
					qw422016.N().S(`false`)
					//line block.qtpl:658
				}
				//line block.qtpl:658
				qw422016.N().S(`,
                                "goodsData": `)
				//line block.qtpl:659
				qw422016.N().QZ(encoding.BytesToHexStringBytes(tx.Attachment.Data))
				//line block.qtpl:659
				qw422016.N().S(`,
                                "goodsNonce": `)
				//line block.qtpl:660
				qw422016.N().QZ(encoding.BytesToHexStringBytes(tx.Attachment.Nonce))
				//line block.qtpl:660
				qw422016.N().S(`,
                                "discountNQT": `)
				//line block.qtpl:661
				qw422016.E().V(tx.Attachment.Discount)
				//line block.qtpl:661
				qw422016.N().S(`
                        `)
			//line block.qtpl:662
			case "p2p.DigitalGoodsFeedback":
				//line block.qtpl:662
				qw422016.N().S(`
                        `)
				//line block.qtpl:664
				tx := new(p2p.DigitalGoodsFeedback)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:669
				qw422016.N().S(`
                            "type":       3,
                            "subtype":    6,
                            "attachment": {
                                "purchase": "`)
				//line block.qtpl:673
				qw422016.E().V(tx.Attachment.Purchase)
				//line block.qtpl:673
				qw422016.N().S(`"
                        `)
			//line block.qtpl:674
			case "p2p.DigitalGoodsRefund":
				//line block.qtpl:674
				qw422016.N().S(`
                        `)
				//line block.qtpl:676
				tx := new(p2p.DigitalGoodsRefund)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:681
				qw422016.N().S(`
                            "type":       3,
                            "subtype":    7,
                            "attachment": {
                                "purchase": "`)
				//line block.qtpl:685
				qw422016.E().V(tx.Attachment.Purchase)
				//line block.qtpl:685
				qw422016.N().S(`",
                                "refundNQT": `)
				//line block.qtpl:686
				qw422016.E().V(tx.Attachment.Refund)
				//line block.qtpl:686
				qw422016.N().S(`
                        `)
			//line block.qtpl:687
			case "p2p.EffectiveBalanceLeasing":
				//line block.qtpl:687
				qw422016.N().S(`
                        `)
				//line block.qtpl:689
				tx := new(p2p.EffectiveBalanceLeasing)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:694
				qw422016.N().S(`
                            "type":       4,
                            "subtype":    0,
                            "attachment": {
                                "period": `)
				//line block.qtpl:698
				qw422016.E().V(tx.Attachment.Period)
				//line block.qtpl:698
				qw422016.N().S(`
                        `)
			//line block.qtpl:699
			case "p2p.RewardRecipientAssignment":
				//line block.qtpl:699
				qw422016.N().S(`
                        `)
				//line block.qtpl:701
				tx := new(p2p.RewardRecipientAssignment)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix

				//line block.qtpl:705
				qw422016.N().S(`
                            "type":       20,
                            "subtype":    0,
                            "attachment": {
                        `)
			//line block.qtpl:709
			case "p2p.EscrowCreation":
				//line block.qtpl:709
				qw422016.N().S(`
                        `)
				//line block.qtpl:711
				tx := new(p2p.EscrowCreation)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:716
				qw422016.N().S(`
                            "type":       21,
                            "subtype":    0,
                            "attachment": {
                                "amountNQT": "`)
				//line block.qtpl:720
				qw422016.E().V(tx.Attachment.Amount)
				//line block.qtpl:720
				qw422016.N().S(`",
                                "deadline": `)
				//line block.qtpl:721
				qw422016.E().V(tx.Attachment.Deadline)
				//line block.qtpl:721
				qw422016.N().S(`,
                                "deadlineAction": "`)
				//line block.qtpl:722
				qw422016.E().V(tx.Attachment.DeadlineAction)
				//line block.qtpl:722
				qw422016.N().S(`",
                                "requiredSigners": `)
				//line block.qtpl:723
				qw422016.E().V(tx.Attachment.RequiredSigners)
				//line block.qtpl:723
				qw422016.N().S(`,
                                "signers": [
                                    `)
				//line block.qtpl:726
				signers := tx.Attachment.Signers

				//line block.qtpl:727
				qw422016.N().S(`
                                    `)
				//line block.qtpl:728
				for signerId, signer := range signers {
					//line block.qtpl:728
					qw422016.N().S(`
                                        "`)
					//line block.qtpl:729
					qw422016.E().V(signer)
					//line block.qtpl:729
					qw422016.N().S(`"`)
					//line block.qtpl:729
					if signerId+1 < len(signers) {
						//line block.qtpl:729
						qw422016.N().S(`,`)
						//line block.qtpl:729
					}
					//line block.qtpl:729
					qw422016.N().S(`
                                    `)
					//line block.qtpl:730
				}
				//line block.qtpl:730
				qw422016.N().S(`
                                ]
                        `)
			//line block.qtpl:732
			case "p2p.EscrowSign":
				//line block.qtpl:732
				qw422016.N().S(`
                        `)
				//line block.qtpl:734
				tx := new(p2p.EscrowSign)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:739
				qw422016.N().S(`
                            "type":       21,
                            "subtype":    1,
                            "attachment": {
                                "escrowID": "`)
				//line block.qtpl:743
				qw422016.E().V(tx.Attachment.Id)
				//line block.qtpl:743
				qw422016.N().S(`",
                                "decision": "`)
				//line block.qtpl:744
				qw422016.E().V(tx.Attachment.Decision)
				//line block.qtpl:744
				qw422016.N().S(`"
                        `)
			//line block.qtpl:745
			case "p2p.EscrowResult":
				//line block.qtpl:745
				qw422016.N().S(`
                        `)
				//line block.qtpl:747
				tx := new(p2p.EscrowResult)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:752
				qw422016.N().S(`
                            "type":       21,
                            "subtype":    2,
                            "attachment": {
                                "escrowID": "`)
				//line block.qtpl:756
				qw422016.E().V(tx.Attachment.Id)
				//line block.qtpl:756
				qw422016.N().S(`",
                                "decision": "`)
				//line block.qtpl:757
				qw422016.E().V(tx.Attachment.Decision)
				//line block.qtpl:757
				qw422016.N().S(`"
                        `)
			//line block.qtpl:758
			case "p2p.SubscriptionSubscribe":
				//line block.qtpl:758
				qw422016.N().S(`
                        `)
				//line block.qtpl:760
				tx := new(p2p.SubscriptionSubscribe)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:765
				qw422016.N().S(`
                            "type":       21,
                            "subtype":    3,
                            "attachment": {
                                "frequency": `)
				//line block.qtpl:769
				qw422016.E().V(tx.Attachment.Frequency)
				//line block.qtpl:769
				qw422016.N().S(`
                        `)
			//line block.qtpl:770
			case "p2p.SubscriptionCancel":
				//line block.qtpl:770
				qw422016.N().S(`
                        `)
				//line block.qtpl:772
				tx := new(p2p.SubscriptionCancel)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:777
				qw422016.N().S(`
                            "type":       21,
                            "subtype":    4,
                            "attachment": {
                                "subscriptionId": "`)
				//line block.qtpl:781
				qw422016.E().V(tx.Attachment.Id)
				//line block.qtpl:781
				qw422016.N().S(`"
                        `)
			//line block.qtpl:782
			case "p2p.SubscriptionPayment":
				//line block.qtpl:782
				qw422016.N().S(`
                        `)
				//line block.qtpl:784
				tx := new(p2p.SubscriptionPayment)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:789
				qw422016.N().S(`
                            "type":       21,
                            "subtype":    5,
                            "attachment": {
                                "subscriptionIDs": [
                                    `)
				//line block.qtpl:795
				subscribers := tx.Attachment.Ids

				//line block.qtpl:796
				qw422016.N().S(`
                                    `)
				//line block.qtpl:797
				for subscriberId, subscriber := range subscribers {
					//line block.qtpl:797
					qw422016.N().S(`
                                        "`)
					//line block.qtpl:798
					qw422016.E().V(subscriber)
					//line block.qtpl:798
					qw422016.N().S(`"`)
					//line block.qtpl:798
					if subscriberId+1 < len(subscribers) {
						//line block.qtpl:798
						qw422016.N().S(`,`)
						//line block.qtpl:798
					}
					//line block.qtpl:798
					qw422016.N().S(`
                                    `)
					//line block.qtpl:799
				}
				//line block.qtpl:799
				qw422016.N().S(`
                                ]
                        `)
			//line block.qtpl:801
			case "p2p.AutomatedTransactionsCreation":
				//line block.qtpl:801
				qw422016.N().S(`
                        `)
				//line block.qtpl:803
				tx := new(p2p.AutomatedTransactionsCreation)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix
				hasAttachmentData = true

				//line block.qtpl:808
				qw422016.N().S(`
                            "type":       22,
                            "subtype":    0,
                            "attachment": {
                                "name": `)
				//line block.qtpl:812
				qw422016.N().Q(tx.Attachment.Name)
				//line block.qtpl:812
				qw422016.N().S(`,
                                "description": `)
				//line block.qtpl:813
				qw422016.N().Q(tx.Attachment.Description)
				//line block.qtpl:813
				qw422016.N().S(`,
                                "creationBytes": `)
				//line block.qtpl:814
				qw422016.N().QZ(encoding.BytesToHexStringBytes(tx.Attachment.Bytes))
				//line block.qtpl:814
				qw422016.N().S(`
                        `)
			//line block.qtpl:815
			case "p2p.AutomatedTransactionsPayment":
				//line block.qtpl:815
				qw422016.N().S(`
                        `)
				//line block.qtpl:817
				tx := new(p2p.AutomatedTransactionsPayment)
				proto.Unmarshal(transaction.Value, tx)
				header = tx.Header
				appendix = tx.Appendix

				//line block.qtpl:821
				qw422016.N().S(`
                            "type":       22,
                            "subtype":    1,
                            "attachment": {
                     `)
				//line block.qtpl:825
			}
			//line block.qtpl:825
			qw422016.N().S(`
                     `)
			//line block.qtpl:826
			if appendix != nil {
				//line block.qtpl:826
				qw422016.N().S(`
                            `)
				//line block.qtpl:827
				if hasAttachmentData {
					//line block.qtpl:827
					qw422016.N().S(`,`)
					//line block.qtpl:827
				}
				//line block.qtpl:827
				qw422016.N().S(`
                            `)
				//line block.qtpl:828
				if appendix.Message != nil {
					//line block.qtpl:828
					qw422016.N().S(`
                                "messageIsText": `)
					//line block.qtpl:829
					if appendix.Message.IsText {
						//line block.qtpl:829
						qw422016.N().S(`true`)
						//line block.qtpl:829
					} else {
						//line block.qtpl:829
						qw422016.N().S(`false`)
						//line block.qtpl:829
					}
					//line block.qtpl:829
					qw422016.N().S(`,
                                "message": `)
					//line block.qtpl:830
					qw422016.N().Q(appendix.Message.Content)
					//line block.qtpl:830
					qw422016.N().S(`
                                `)
					//line block.qtpl:831
					if header.Version > 0 {
						//line block.qtpl:831
						qw422016.N().S(`, "version.Message": `)
						//line block.qtpl:831
						qw422016.E().V(header.Version)
						//line block.qtpl:831
					}
					//line block.qtpl:831
					qw422016.N().S(`
                                `)
					//line block.qtpl:832
					if appendix.EncryptedMessage != nil || appendix.EncryptToSelfMessage != nil || appendix.PublicKeyAnnouncement != nil {
						//line block.qtpl:832
						qw422016.N().S(`,`)
						//line block.qtpl:832
					}
					//line block.qtpl:832
					qw422016.N().S(`
                            `)
					//line block.qtpl:833
				}
				//line block.qtpl:833
				qw422016.N().S(`
                            `)
				//line block.qtpl:834
				if appendix.EncryptedMessage != nil {
					//line block.qtpl:834
					qw422016.N().S(`
                                "encryptedMessage": {
                                    "isText": `)
					//line block.qtpl:836
					if appendix.EncryptedMessage.IsText {
						//line block.qtpl:836
						qw422016.N().S(`true`)
						//line block.qtpl:836
					} else {
						//line block.qtpl:836
						qw422016.N().S(`false`)
						//line block.qtpl:836
					}
					//line block.qtpl:836
					qw422016.N().S(`,
                                    "data": `)
					//line block.qtpl:837
					qw422016.N().QZ(encoding.BytesToHexStringBytes(appendix.EncryptedMessage.Data))
					//line block.qtpl:837
					qw422016.N().S(`,
                                    "nonce": `)
					//line block.qtpl:838
					qw422016.N().QZ(encoding.BytesToHexStringBytes(appendix.EncryptedMessage.Nonce))
					//line block.qtpl:838
					qw422016.N().S(`
                                }
                                `)
					//line block.qtpl:840
					if header.Version > 0 {
						//line block.qtpl:840
						qw422016.N().S(`, "version.EncryptedMessage": `)
						//line block.qtpl:840
						qw422016.E().V(header.Version)
						//line block.qtpl:840
					}
					//line block.qtpl:840
					qw422016.N().S(`
                                `)
					//line block.qtpl:841
					if appendix.EncryptToSelfMessage != nil || appendix.PublicKeyAnnouncement != nil {
						//line block.qtpl:841
						qw422016.N().S(`,`)
						//line block.qtpl:841
					}
					//line block.qtpl:841
					qw422016.N().S(`
                            `)
					//line block.qtpl:842
				}
				//line block.qtpl:842
				qw422016.N().S(`
                            `)
				//line block.qtpl:843
				if appendix.EncryptToSelfMessage != nil {
					//line block.qtpl:843
					qw422016.N().S(`
                                "encryptToSelfMessage": {   
                                    "isText": `)
					//line block.qtpl:845
					if appendix.EncryptToSelfMessage.IsText {
						//line block.qtpl:845
						qw422016.N().S(`true`)
						//line block.qtpl:845
					} else {
						//line block.qtpl:845
						qw422016.N().S(`false`)
						//line block.qtpl:845
					}
					//line block.qtpl:845
					qw422016.N().S(`,
                                    "data": `)
					//line block.qtpl:846
					qw422016.N().QZ(encoding.BytesToHexStringBytes(appendix.EncryptToSelfMessage.Data))
					//line block.qtpl:846
					qw422016.N().S(`,
                                    "nonce": `)
					//line block.qtpl:847
					qw422016.N().QZ(encoding.BytesToHexStringBytes(appendix.EncryptToSelfMessage.Nonce))
					//line block.qtpl:847
					qw422016.N().S(`
                                }
                                `)
					//line block.qtpl:849
					if header.Version > 0 {
						//line block.qtpl:849
						qw422016.N().S(`, "version.EncryptToSelfMessage": `)
						//line block.qtpl:849
						qw422016.E().V(header.Version)
						//line block.qtpl:849
					}
					//line block.qtpl:849
					qw422016.N().S(`
                                `)
					//line block.qtpl:850
					if appendix.PublicKeyAnnouncement != nil {
						//line block.qtpl:850
						qw422016.N().S(`,`)
						//line block.qtpl:850
					}
					//line block.qtpl:850
					qw422016.N().S(`
                            `)
					//line block.qtpl:851
				}
				//line block.qtpl:851
				qw422016.N().S(`
                            `)
				//line block.qtpl:852
				if appendix.PublicKeyAnnouncement != nil {
					//line block.qtpl:852
					qw422016.N().S(`
                                "recipientPublicKey": `)
					//line block.qtpl:853
					qw422016.N().QZ(appendix.PublicKeyAnnouncement.PublicKey)
					//line block.qtpl:853
					qw422016.N().S(`
                                `)
					//line block.qtpl:854
					if header.Version > 0 {
						//line block.qtpl:854
						qw422016.N().S(`, "version.PublicKeyAnnouncement": `)
						//line block.qtpl:854
						qw422016.E().V(header.Version)
						//line block.qtpl:854
					}
					//line block.qtpl:854
					qw422016.N().S(`
                            `)
					//line block.qtpl:855
				}
				//line block.qtpl:855
				qw422016.N().S(`
                     `)
				//line block.qtpl:856
			}
			//line block.qtpl:856
			qw422016.N().S(`
                     `)
			//line block.qtpl:857
			if header.Version > 0 && txType != "p2p.OrdinaryPayment" && txType != "p2p.ArbitaryMessage" {
				//line block.qtpl:857
				qw422016.N().S(`
                            `)
				//line block.qtpl:858
				if appendix != nil || hasAttachmentData {
					//line block.qtpl:858
					qw422016.N().S(`,`)
					//line block.qtpl:858
				}
				//line block.qtpl:858
				qw422016.N().S(`
                            "version.`)
				//line block.qtpl:859
				qw422016.E().V(txType[4:])
				//line block.qtpl:859
				qw422016.N().S(`": `)
				//line block.qtpl:859
				qw422016.E().V(header.Version)
				//line block.qtpl:859
				qw422016.N().S(`
                     `)
				//line block.qtpl:860
			}
			//line block.qtpl:860
			qw422016.N().S(`
                     },
                     "version":         `)
			//line block.qtpl:862
			qw422016.E().V(header.Version)
			//line block.qtpl:862
			qw422016.N().S(`,
                     "timestamp":       `)
			//line block.qtpl:863
			qw422016.E().V(header.Timestamp)
			//line block.qtpl:863
			qw422016.N().S(`,
                     "amountNQT":       `)
			//line block.qtpl:864
			qw422016.E().V(header.Amount)
			//line block.qtpl:864
			qw422016.N().S(`,
                     "feeNQT":          `)
			//line block.qtpl:865
			qw422016.E().V(header.Fee)
			//line block.qtpl:865
			qw422016.N().S(`,
                     `)
			//line block.qtpl:866
			if header.Recipient != 0 {
				//line block.qtpl:866
				qw422016.N().S(`
                                "recipient":       "`)
				//line block.qtpl:867
				qw422016.E().V(header.Recipient)
				//line block.qtpl:867
				qw422016.N().S(`",
                     `)
				//line block.qtpl:868
			}
			//line block.qtpl:868
			qw422016.N().S(`
                     "senderPublicKey": `)
			//line block.qtpl:869
			qw422016.N().QZ(encoding.BytesToHexStringBytes(header.SenderPublicKey))
			//line block.qtpl:869
			qw422016.N().S(`,
                     "deadline":        `)
			//line block.qtpl:870
			qw422016.E().V(header.Deadline)
			//line block.qtpl:870
			qw422016.N().S(`,
                     "ecBlockId":       "`)
			//line block.qtpl:871
			qw422016.E().V(header.EcBlockId)
			//line block.qtpl:871
			qw422016.N().S(`",
                     "ecBlockHeight":   `)
			//line block.qtpl:872
			qw422016.E().V(header.EcBlockHeight)
			//line block.qtpl:872
			qw422016.N().S(`,
                     "signature":       `)
			//line block.qtpl:873
			qw422016.N().QZ(encoding.BytesToHexStringBytes(header.Signature))
			//line block.qtpl:873
			qw422016.N().S(`
                 }`)
			//line block.qtpl:874
			if txId+1 < len(transactions) {
				//line block.qtpl:874
				qw422016.N().S(`,`)
				//line block.qtpl:874
			}
			//line block.qtpl:874
			qw422016.N().S(`
                 `)
			//line block.qtpl:875
		}
		//line block.qtpl:875
		qw422016.N().S(`
            ]
            
        }`)
		//line block.qtpl:878
		if blockId+1 < len(blocks) {
			//line block.qtpl:878
			qw422016.N().S(`,`)
			//line block.qtpl:878
		}
		//line block.qtpl:878
		qw422016.N().S(`
        `)
		//line block.qtpl:879
	}
	//line block.qtpl:879
	qw422016.N().S(`
    ]
}
`)
//line block.qtpl:882
}

//line block.qtpl:882
func WriteDowngrade(qq422016 qtio422016.Writer, pb *p2p.GetNextBlocksResponse) {
	//line block.qtpl:882
	qw422016 := qt422016.AcquireWriter(qq422016)
	//line block.qtpl:882
	StreamDowngrade(qw422016, pb)
	//line block.qtpl:882
	qt422016.ReleaseWriter(qw422016)
//line block.qtpl:882
}

//line block.qtpl:882
func Downgrade(pb *p2p.GetNextBlocksResponse) string {
	//line block.qtpl:882
	qb422016 := qt422016.AcquireByteBuffer()
	//line block.qtpl:882
	WriteDowngrade(qb422016, pb)
	//line block.qtpl:882
	qs422016 := string(qb422016.B)
	//line block.qtpl:882
	qt422016.ReleaseByteBuffer(qb422016)
	//line block.qtpl:882
	return qs422016
//line block.qtpl:882
}
